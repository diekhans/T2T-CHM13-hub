* general stuff
t2t-chm13.20200727  v1.0
** URLs
https://hgwdev.gi.ucsc.edu/~markd/t2t/T2T-CHM13/hub.txt
https://courtyard.gi.ucsc.edu/~markd/t2t/T2T-CHM13/hub.txt

* genome assembly
# 2020-07-28
/assemblies/drafts/t2t-chm13.20200727.fasta  # include chrMT
bgzip --threads=64 t2t-chm13.20200727.fasta
makeMd5s t2t-chm13.20200727.fasta.gz 
ln t2t-chm13.20200727.fasta.gz t2tChm13_20200727.unmasked.fa.gz
faToTwoBit t2tChm13_20200727.unmasked.fa.gz t2tChm13_20200727.unmasked.2bit


* rmsk
2020-07-28 from Mitchell Robert Vollger
team-segdups/Masker/t2t-chm13.20200727_repeatmasker.out
cd rmsk
bgzip --threads=65 t2t-chm13.20200727_repeatmasker.out 
makeMd5s t2t-chm13.20200727_repeatmasker.out.gz 
(../../../T2T-CHM13-hub/bin/RM2Bed.py t2t-chm13.20200727_repeatmasker.out.gz - | ../../../T2T-CHM13-hub/bin/editRepeatMaskerBed | bedSort stdin stdout | gzip -c >rmsk.bed.gz) >&log&
buildBigBed  --as=../../../T2T-CHM13-hub/etc/rmskBed.as --twoBit=../genome/t2tChm13_20200727.unmasked.2bit bed9+ t2tChm13_20200727 rmsk.bigBed rmsk.bed.gz
ln -f rmsk.bigBed ../../../hub/t2tChm13_20200727/

* trf
2020-07-28 from Mitchell Robert Vollger
team-segdups/Masker/t2t-t2t-chm13.20200727_repeatmasker.out
gzip t2t-chm13.20200727_trf.bed
makeMd5s t2t-chm13.20200727_trf.bed.gz 
buildBigBed --as=../../../T2T-CHM13-hub/etc/simpleRepeat2.as --twoBit=../genome/t2tChm13_20200727.unmasked.2bit bed3+ t2tChm13_20200727 trf.bigBed t2t-chm13.20200727_trf.bed.gz 
ln -f trf.bigBed  ../../../hub/t2tChm13_20200727/

* mask and finish genome
2020-07-28
cd genome
twoBitMask -type=.bed t2tChm13_20200727.unmasked.2bit <(zcat ../rmsk/rmsk.bed.gz ../trf/t2t-chm13.20200727_trf.bed.gz ) t2tChm13_20200727.2bit
twoBitInfo t2tChm13_20200727.2bit t2tChm13_20200727.sizes
twoBitToFa t2tChm13_20200727.2bit t2tChm13_20200727.fa
nice bgzip  --threads=64 t2tChm13_20200727.fa
samtools faidx t2tChm13_20200727.fa.gz 
blat t2tChm13_20200727.2bit -makeOoc=t2tChm13_20200727.11.ooc /dev/null /dev/null
ln -f t2tChm13_20200727.2bit  ../../../hub/t2tChm13_20200727/


* sedefSegDups/sedefSegDupsLowId
2020-07-29 from Mitchell Robert Vollger
have made the SEDEF segdup tracks  for the new asm if you want to add them to the browser.
   team-segdups/Masker/t2t-chm13.20200727_sedef_out/SDs.browser.bed
   team-segdups/Masker/t2t-chm13.20200727_sedef_out/SDs.browser.html
   team-segdups/Masker/t2t-chm13.20200727_sedef_out/SDs.lowid.browser.bed


bgzip --threads=64 *.bed 
makeMd5s *.bed.gz
buildBigBed bed9 --as=../../../T2T-CHM13-hub/etc/sedefSegDups.as t2tChm13_20200727 sedefSegDups.bigBed SDs.browser.bed.gz
buildBigBed bed9 --as=../../../T2T-CHM13-hub/etc/sedefSegDups.as t2tChm13_20200727 sedefSegDupsLow.bigBed SDs.lowid.browser.bed.gz
ln -f *.bigBed   ../../../hub/t2tChm13_20200727/sedefSegDups/

* as_annotation (as_hor_annotation, as_sf_annotation)
2020-07-31 from Lev Uralsky
cd as_annotation
/team-satellites/AS_Annotation/draft_20200727/
    AS_HOR_Annot.html -> as_hor_annotation.html
    AS_SF_Annot.html  -> as_sf_annotation.html
    t2t-chm13.20200727-vs-AS-HORs-hmmer3.0-30072020.hmm.h.bed.gz
    t2t-chm13.20200727-vs-AS-SFs-hmmer3.0-30072020.hmm.h.bed.gz

makeMd5s *.bed.gz

buildBigBed bed9 t2tChm13_20200727 as_hor_annotation.bigBed t2t-chm13.20200727-vs-AS-HORs-hmmer3.0-30072020.hmm.h.bed.gz 
buildBigBed bed9 t2tChm13_20200727 as_sf_annotation.bigBed t2t-chm13.20200727-vs-AS-SFs-hmmer3.0-30072020.hmm.h.bed.gz 

ln -f as_*annotation.bigBed  ../../../hub/t2tChm13_20200727/



* hg38Lastz

ln -s ../../../T2T-CHM13-hub/build/t2tChm13_20200727/hg38Lastz.DEF DEF
  ln -s ../../T2T_cenSat_hub/build/cenSat1/hg38lastz/DEF .
  cp /scratch/data/blastz/human_chimp.v2.q

doSameSpeciesLiftOver.pl hg38  t2tChm13_20200727 \
 -stop=net -buildDir=$(pwd)/tmp -localTmp=/dev/shm \
 -target2Bit=$(pwd)/../../../../t2t-centromere/T2T_cenSat/hub/cenSat1/cenSat1.2bit \
 -targetSizes=$(pwd)/../../../../t2t-centromere/T2T_cenSat/hub/cenSat1/cenSat1.sizes \
 -ooc=$(pwd)/../../../../t2t-centromere/T2T_cenSat/hub/cenSat1/cenSat1.11.ooc \
 -query2Bit=$(pwd)/../genome/t2tChm13_20200727.2bit \
 -querySizes=$(pwd)/../genome/t2tChm13_20200727.sizes \
 -swapDir=$(pwd)/hg38 \
 -bigClusterHub=ku -workhorse=hgwdev

* todo
** RMMaskBed to David, etc
** as_sf_annotation.html as_hor_annotation.html reference a google doc
