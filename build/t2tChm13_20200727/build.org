* general stuff
t2t-chm13.20200727  v1.0
** URLs
https://hgwdev.gi.ucsc.edu/~markd/t2t/T2T-CHM13/hub.txt
https://courtyard.gi.ucsc.edu/~markd/t2t/T2T-CHM13/hub.txt

* genome assembly
# 2020-07-28
/assemblies/drafts/t2t-chm13.20200727.fasta  # include chrMT
bgzip --threads=64 t2t-chm13.20200727.fasta
makeMd5s t2t-chm13.20200727.fasta.gz 
ln t2t-chm13.20200727.fasta.gz t2tChm13_20200727.unmasked.fa.gz
faToTwoBit t2tChm13_20200727.unmasked.fa.gz t2tChm13_20200727.unmasked.2bit


* rmsk
2020-07-28 from Mitchell Robert Vollger
team-segdups/Masker/t2t-chm13.20200727_repeatmasker.out
cd rmsk
bgzip --threads=65 t2t-chm13.20200727_repeatmasker.out 
makeMd5s t2t-chm13.20200727_repeatmasker.out.gz 
(../../../T2T-CHM13-hub/bin/RM2Bed.py t2t-chm13.20200727_repeatmasker.out.gz - | ../../../T2T-CHM13-hub/bin/editRepeatMaskerBed | bedSort stdin stdout | gzip -c >rmsk.bed.gz) >&log&
buildBigBed  --as=../../../T2T-CHM13-hub/etc/rmskBed.as --twoBit=../genome/t2tChm13_20200727.unmasked.2bit bed9+ t2tChm13_20200727 rmsk.bigBed rmsk.bed.gz
ln -f rmsk.bigBed ../../../hub/t2tChm13_20200727/

* trf
2020-07-28 from Mitchell Robert Vollger
team-segdups/Masker/t2t-t2t-chm13.20200727_repeatmasker.out
gzip t2t-chm13.20200727_trf.bed
makeMd5s t2t-chm13.20200727_trf.bed.gz 
buildBigBed --as=../../../T2T-CHM13-hub/etc/simpleRepeat2.as --twoBit=../genome/t2tChm13_20200727.unmasked.2bit bed3+ t2tChm13_20200727 trf.bigBed t2t-chm13.20200727_trf.bed.gz 
ln -f trf.bigBed  ../../../hub/t2tChm13_20200727/

* mask and finish genome
2020-07-28
cd genome
twoBitMask -type=.bed t2tChm13_20200727.unmasked.2bit <(zcat ../rmsk/rmsk.bed.gz ../trf/t2t-chm13.20200727_trf.bed.gz ) t2tChm13_20200727.2bit
twoBitInfo t2tChm13_20200727.2bit t2tChm13_20200727.sizes
twoBitToFa t2tChm13_20200727.2bit t2tChm13_20200727.fa
nice bgzip  --threads=64 t2tChm13_20200727.fa
samtools faidx t2tChm13_20200727.fa.gz 
blat t2tChm13_20200727.2bit -makeOoc=t2tChm13_20200727.11.ooc /dev/null /dev/null
ln -f t2tChm13_20200727.2bit  ../../../hub/t2tChm13_20200727/


* sedefSegDups/sedefSegDupsLowId
2020-07-29 from Mitchell Robert Vollger
have made the SEDEF segdup tracks  for the new asm if you want to add them to the browser.
   team-segdups/Masker/t2t-chm13.20200727_sedef_out/SDs.browser.bed
   team-segdups/Masker/t2t-chm13.20200727_sedef_out/SDs.browser.html
   team-segdups/Masker/t2t-chm13.20200727_sedef_out/SDs.lowid.browser.bed


bgzip --threads=64 *.bed 
makeMd5s *.bed.gz
buildBigBed bed9 --as=../../../T2T-CHM13-hub/etc/sedefSegDups.as t2tChm13_20200727 sedefSegDups.bigBed SDs.browser.bed.gz
buildBigBed bed9 --as=../../../T2T-CHM13-hub/etc/sedefSegDups.as t2tChm13_20200727 sedefSegDupsLow.bigBed SDs.lowid.browser.bed.gz
ln -f *.bigBed   ../../../hub/t2tChm13_20200727/sedefSegDups/

2020-07-31 rebuilt due to column name problems


* as_annotation (as_hor_annotation, as_sf_annotation)
2020-07-31 from Lev Uralsky
cd as_annotation
/team-satellites/AS_Annotation/draft_20200727/
    AS_HOR_Annot.html -> as_hor_annotation.html
    AS_SF_Annot.html  -> as_sf_annotation.html
    t2t-chm13.20200727-vs-AS-HORs-hmmer3.0-30072020.hmm.h.bed.gz
    t2t-chm13.20200727-vs-AS-SFs-hmmer3.0-30072020.hmm.h.bed.gz

makeMd5s *.bed.gz

buildBigBed bed9 t2tChm13_20200727 as_hor_annotation.bigBed t2t-chm13.20200727-vs-AS-HORs-hmmer3.0-30072020.hmm.v2.h.bed.gz
buildBigBed bed9 t2tChm13_20200727 as_sf_annotation.bigBed t2t-chm13.20200727-vs-AS-SFs-hmmer3.0-30072020.hmm.h.bed.gz 

ln -f as_*annotation.bigBed  ../../../hub/t2tChm13_20200727/

# updated 2020-08-02 due to error found in data


* gap track 2020-08-02
../../../T2T-CHM13-hub/bin/faToGapBed ../genome/t2tChm13_20200727.fa.gz gap.bed
buildBigBed bed3 t2tChm13_20200727 gap.bigBed gap.bed
ln -f gap.bigBed  ../../../hub/t2tChm13_20200727/

* hor_decompositions
update from Tatiana Dvorkina 2020-08-10
/team-satellites/HorAnnotation/20200727/hordecomposition_cen*_v1.0.bed
gzip -9 *.bed
makeMd5s *.bed.gz
buildBigBed bed9 t2tChm13_20200727 hor_decompositions.bigBed *.bed.gz
ln -f hor_decompositions.bigBed   ../../../hub/t2tChm13_20200727/

Error line 51509 of /data/tmp/tmp4n12d4oh: name [S5C5pH7-B_13_S5C5pH7-A_14_S5C5pH7-B_15_S5C5pH7-A_17-18_S5C5pH7-B_19_27_S5C5pH7-A_28-29_S5C5pH7-B_30_S5C5pH7-A_31_9_S5C5pH7-B_10_S5C5pH7-A_11-12_S5C5pH7-B_13_S5C5pH7-A_14_S5C5pH7-B_15_S5C5pH7-A_21-25_28_S5C5pH7-B_29-30_S5C5pH7-A_31-32_1-2_S5C5pH7-B_3-6_S5C5pH7-A_7_S5C5pH7-B_8-10_9] is too long (must not exceed 255 characters)




* hg38Lastz
ln -s ../../../T2T-CHM13-hub/build/t2tChm13_20200727/hg38Lastz.DEF DEF
runHg38Lastz t2tChm13_20200727 >&log&

* todo
** RMMaskBed to David, etc
** as_sf_annotation.html as_hor_annotation.html reference a google doc


*  Tatiana Dvorkina  6:42 AM
Hi @Mark Diekhans I prepared decomposition into HORs. Please add it to the new track! :pray: All bed-files are on Globus /team-satellites/HorAnnotation/20200727/
6:42
Thank you!

* Chirag Jain  1:39 PM
@Mark Diekhans I've updated  ONT / hifi read alignment track informatino in the google doc for the latest T2T asm 20200727; please pull them into the browser when you get chance (cc @Arang Rhie)
https://docs.google.com/document/d/1v8ivK6DUKEV9M4DBXkDLyTOuXd6REJ6rRX4B48cF7Bk/edit?usp=sharing

winnowmap_ont_ul_reads.html
winnowmap_ont_all_reads.html
winnowmap_ont_all_variants.html
winnowmap_clr_reads.html
winnowmap_hifi_reads.html
illumina_pcrfree_reads.html
illumina_pcrfree_variants.html
bionano_cover.html


* Arang Rhie  3:07 PM
Hi @Mark Diekhans, in this doc (:point_up:), page 6-12 are ready to go up for the 20200727 release. Thanks!
https://docs.google.com/document/d/1v8ivK6DUKEV9M4DBXkDLyTOuXd6REJ6rRX4B48cF7Bk/edit?usp=sharing

kmer_metric.html



* hordecomposition error


* winnowmap_nanopore tracks
from Chirag Jain
cd winnowmap_nanopore
from team-nanopore/alignments_and_SVs/20200605/
      output.bam, output.filtered.vcf
bgzip output.filtered.vcf
makeMd5s output.*
ln output.bam winnowmap_nanopore_aligns.bam
nice samtools index -@ 32 winnowmap_nanopore_aligns.bam 

# vcf not sorted
vcf-sort output.filtered.vcf.gz |bgzip -c > winnowmap_nanopore_variants.vcf.gz
tabix -p vcf winnowmap_nanopore_variants.vcf.gz 

ln winnowmap_* ../../../hub/t2tChm13_20200602/winnowmap_nanopore/
